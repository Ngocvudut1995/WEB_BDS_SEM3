<div ng-controller="timkiemCtrl">
<!--<p>{{ht}}</p>-->
<div>
    <div class="row" style="margin-bottom: 20px">
        <div class="col-md-2"></div>
        <div class="col-md-8 col-xs-12" style="background-color: #eeeeee;text-align: left;border-radius: 6px">

            <!--<label style="width: 100%;margin-top: 30px">Từ Khóa</label>-->
            <input class="col-md-9 col-xs-8 col-sm-8" type="text" placeholder="Từ Khóa" style="height: 44px;border-radius: 4px;margin: 10px" ng-model="query" ng-enter="search_query(query)">
            <button class="btn btn-info col-md-2 col-xs-2 col-sm-2" style="font-size: 18pt;
    border: 0px; margin: 10px;
    border-radius: 5px; padding-bottom: 2px;
    padding-top: 9px;" ng-click="search_query(query)"><span class="glyphicon glyphicon-search"></span></button>
        </div>
        <div class="col-md-3"></div>
    </div>

    <div class="row" style="background-color: white;
    padding-bottom: 40px;
    border: rgba(0, 0, 0, 0.37) solid 1px;
    border-radius: 10px;">

        <div class="col-md-3 col-xs-12 col-sm-4">
            <!--<label style="width: 100%;margin-top: 30px">Quận Huyện</label>-->
            <select class="select_tracuu" style="width: 100%; height: 32px; border-radius: 4px; margin-top: 30px;" ng-model="select_sell" ng-change="change_sell()">
                <option value="0">Tất Cả</option>
                <option value="false">Cho Thuê</option>
                <option value="true">Cần Bán</option>

            </select>
        </div>

        <div class="col-md-3 col-xs-12 col-sm-4">
            <!--<label style="width: 100%;margin-top: 30px">Quận Huyện</label>-->
            <select class="select_tracuu" style="width: 100%; height: 32px; border-radius: 4px; margin-top: 30px;" ng-model="select_Huyen" ng-change="load_phuong()">
                <option value="0" selected="selected">--- Chọn Quận Huyện ---</option>
                <option ng-repeat="item in listQuan" value="{{ item.IDTrousers }}">{{ item.Trousers }}</option>

            </select>
        </div>
        <div class="col-md-3 col-xs-12 col-sm-4">
            <!--<label style="width: 100%;margin-top: 30px">Phường xã</label>-->
            <select class="select_tracuu" style="width: 100%; height: 32px; border-radius: 4px; margin-top: 30px;" ng-model="select_Phuong" ng-change="load_duong()">
                <option value="0" selected="selected">--- Chọn Phường xã ---</option>
                <option ng-repeat="item in listPhuong" value="{{ item.IDWard }}">{{ item.Ward1 }}</option>
            </select>
        </div>

        <div class="col-md-3 col-xs-12 col-sm-4">
            <!--<label style="width: 100%;margin-top: 30px">Đường</label>-->
            <select class="select_tracuu" style="width: 100%; height: 32px; border-radius: 4px; margin-top: 30px;" ng-model="select_Duong">
                <option value="0" selected="selected">--- Chọn Đường ---</option>
                <option ng-repeat="item in listDuong" value="{{ item.IDStreet }}">{{ item.Street1 }}</option>

            </select>
        </div>
        <div class="col-md-3 col-xs-12 col-sm-4">
            <!--<label style="width: 100%;margin-top: 30px">Kiểu Dự Án</label>-->
            <select class="select_tracuu" style="width: 100%; height: 32px; border-radius: 4px; margin-top: 30px;" ng-model="select_Kieu">
                <option value="0" selected="selected">--- Chọn Dự Án ---</option>
                <option ng-repeat="item in list_DM" value="{{ item.IDType }}">{{ item.TypeName }}</option>
            </select>
        </div>




        <div class="col-md-3 col-xs-12 col-sm-4">
            <!--<label style="width: 100%;margin-top: 30px">Giá (Min)</label>-->
            <select class="select_tracuu" style="width: 100%; height: 32px; border-radius: 4px; margin-top: 30px;" ng-model="select_DienTich">
                <option value="0" selected="selected">--- Chọn Diện Tích ---</option>
                <option ng-repeat="item in listdientich" value="{{ item.IDAcreage }}">{{ item.Acreage1 }}</option>

            </select>
        </div>

        <div class="col-md-3 col-xs-12 col-sm-4">
            <!--<label style="width: 100%;margin-top: 30px">Giá (Min)</label>-->
            <select class="select_tracuu" style="width: 100%; height: 32px; border-radius: 4px; margin-top: 30px;" ng-model="select_Gia">
                <option value="0" selected="selected">--- Chọn Mức Giá ---</option>
                <option ng-repeat="item in list_Price" value="{{ item.IDPrice }}">{{ item.Price1 }}</option>
            </select>
        </div>
        <div class="col-md-3 col-xs-12 col-sm-4" style="float: left">

            <button style="margin-top: 30px; height: 30px; border-radius: 4px; background-color: white" ng-click="search_vp()">
                <span class="glyphicon glyphicon-search"></span> <span class="">Tìm Kiếm</span>
            </button>
            <button style="margin-left: 9px; height: 30px; border-radius: 4px; background-color: white" ng-click="reload_seach()">
                <span class="glyphicon glyphicon-repeat"></span>
            </button>

        </div>


    </div>
</div>
    


    <div class="row" style="">
        <div class="col-md-9 row" style="position: relative;padding-bottom: 40px;">
            <div class="" style="float: right; margin: 10px">
                <label>Sort By:</label>
                <select style="width: 100%; height: 32px; border-radius: 4px" ng-model="select_sort" ng-change="change_sort()">
                    <option value="0">Mặc Định</option>
                    <option value="1">Thời Gian Mới Nhất</option>
                    <option value="2">Thời Gian Cũ Nhất</option>
                    <option value="3">Diện Tích Lớn Nhất</option>
                    <option value="4">Diện Tích Bé Nhất</option>
                    <option value="5">Giá Cao Nhất</option>
                    <option value="6">Giá Thấp Nhất</option>

                </select>
            </div>
            <div>
                <div class="col-md-12 col-xs-12 col-sm-12 animate-repeat" style="margin-top: 5%" ng-repeat="item in pagedItems[currentPage]">

                    <div class="col-md-12 col-sm-12 col-xs-12" style="border: #999393 solid 2px; background-color: white; padding: 0px 0px">
                        <div class="row">
                            <div class="col-md-4 col-sm-4 col-xs-12" style="height: 70%; padding-left: 0px; padding-right: 0px; position: relative;">
                                <a href="#/ChiTiet/{{ item._MaVP }}"><img ng-src="{{ app }}/{{ item._Anh }}" style="width: 100%;"></a>
                                <div style="text-align: center; font-weight: bold; position: absolute; right: 0px; bottom: 0px; width: 105px; height: 27px; background-color: orange" ng-if="item._Sell == true">Cần Bán</div>
                                <div style="text-align: center; font-weight: bold; position: absolute; right: 0px; bottom: 0px; width: 105px; height: 27px; background-color: orange" ng-if="item._Sell == false">Cho Thuê</div>
                            </div>
                            <div class="col-md-8 col-sm-8 col-xs-12" style="padding: 1px 0px 0px 10px;">
                                <a href="#/ChiTiet/{{ item._MaVP }}" title="{{ item._TenVp }}" style="color: #0b3dab">
                                    <p style="font-size: 18pt; font-weight: bolder; margin-top: 5px; height: 15%; /*white-space: nowrap;*/max-width: 100%; 
overflow: hidden; text-overflow: ellipsis;line-height: 32px;">{{ item._TenVp }}</p>
                                </a>
                                <!--<h4 style="margin-left: 10px; height: 15%; white-space: pre-wrap;" class="hidden-md hidden-lg col-xs-12">{{ item._TenVp }}</h4>-->
                                <p style="margin-bottom: -10px; margin-top: -15px;white-space: nowrap;max-width: 100%; overflow: hidden; text-overflow: ellipsis;">
                                    <b>Cập Nhật:</b> {{ format_date(item._ModifyDate) }}
                                </p>
                                <p style="margin-bottom: -10px; margin-top: -4px;white-space: nowrap;max-width: 100%; overflow: hidden; text-overflow: ellipsis;">
                                    <b>Diện Tích:</b> {{ item._Dientich }}
                                </p>
                                <p style="margin-bottom: -10px; margin-top: -4px;white-space: nowrap;max-width: 100%; overflow: hidden; text-overflow: ellipsis;">
                                    <b>Giá:</b> {{ item._Gia }} triệu/tháng
                                </p>
                                <p style="margin-bottom: -10px; margin-top: -4px; white-space: nowrap; max-width: 100%; overflow: hidden; text-overflow: ellipsis;">
                                    <b>Địc Chỉ:</b> {{ item._SoNha }} {{ item._Duong }}, Quận {{ item._TenQuan }}, Phường {{ item._Phuong }}, TP Đà Nẵng
                                </p>
                                <p style="line-height: 23px;margin-bottom: 0px; margin-top: 4px;
  display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;">
                                    <b>Mô Tả:</b> Cuối tháng 9 vừa qua, dự án Gemek Tower của chủ đầu tư tập đoàn Geleximco và Mekongland đã đi vào quá trình bàn giao căn hộ cho khách hàng. Cuối tháng 9 vừa qua, dự án Gemek Tower của chủ đầu tư tập đoàn Geleximco và Mekongland đã đi vào quá trình bàn giao căn hộ cho khách hàng.
                                </p>

                                <!--<a href="#/ChiTiet/{{ item._MaVP }}" style="float: right" ng-click="scrolltotop()">Tìm Hiểu Thêm</a>-->
                            </div>
                        </div>


                        <!--<div style="background-color: rgba(115, 115, 116, 0.26); border-top: #999393 solid 2px; color: white; width: 100%; height: 15%; text-align: center; padding: 10px auto; float: right;">

                            
                            <a style="float: left; margin: 10px; margin-top: 5px; color: black; font-size: 12pt;"ng-show="1"><i class="fa fa-heart" style="color: red"></i> Đã Quan Tâm</a>
                            <a style="float: left; margin: 10px; margin-top: 5px;color: black; font-size: 12pt;"ng-hide ="1"><i class="fa fa-heart" ></i> Quan Tâm</a>
                            <a href="#/ChiTiet/{{ item._MaVP }}" style="float: right; margin: 10px; margin-top: 5px; color: black; font-size: 12pt;"><i class="fa fa-eye"></i> Chi Tiết</a>
                        </div>-->
                    </div>

                </div>

            </div>

         
            <div ng-if="filteredItems.length == 0">
                <h3>No result</h3>
            </div>


        </div>
        <div class="col-md-3 hidden-sm hidden-xs" style="padding: 0px">

            <img style="margin-top: 120px;width: 100%;" src="{{ app }}/Content/Images/quangcao2.png" />
            <div style="background-color: #C1C1C1;">
                <h3 style="font-weight: bold; border-bottom: 1px solid #dedede; background-color: #ccc;
float: none; padding: 9px 20px 10px;">
                    Các Dự Án Nhiều Lượt Xem
                </h3>
            </div>
            <div style="font-size: 13pt">
                <div class="clearfix list-group" style="display: block; list-style-type: square" ng-model="VPNN">

                    <a class="list-group-item col-md-12 col-xs-12" ng-repeat="item in list_VPNN" href="#/ChiTiet/{{ item._MaVP }}">{{item._TenVp}}</a>

                </div>
            </div>
            <div style="background-color: #C1C1C1;">
                <h3 style="font-weight: bold; border-bottom: 1px solid #dedede; background-color: #ccc;
float: none; padding: 9px 20px 10px;">
                    Các Dự Án Nhiều Giao Dịch
                </h3>
            </div>
            <div style="font-size: 13pt">
                <div class="clearfix list-group" style="display: block; list-style-type: square" ng-model="VPNN">

                    <a class="list-group-item col-md-12 col-xs-12" ng-repeat="item in list_VPNN" href="#/ChiTiet/{{ item._MaVP }}">{{item._TenVp}}</a>

                </div>
            </div>
            <div style="background-color: #C1C1C1;">
                <h3 style="font-weight: bold; border-bottom: 1px solid #dedede; background-color: #ccc;
float: none; padding: 9px 20px 10px;">
                    Cho thuê văn phòng trọ gần trường đại học
                </h3>
            </div>
            <div style="font-size: 13pt">
                <div class="clearfix list-group" style="display: block; list-style-type: square;">
                    <a class="list-group-item col-md-12 col-xs-12">Đại Học Bách Khoa Đà Nẵng </a>
                    <a class="list-group-item col-md-12 col-xs-12">Đại Học Sư Phạm Đà Nẵng </a>
                    <a class="list-group-item col-md-12 col-xs-12">Đại Học Kinh Tế Đà Nẵng  </a>
                    <a class="list-group-item col-md-12 col-xs-12">Đại Học Kiến Trúc Đà Nẵng </a>
                    <a class="list-group-item col-md-12 col-xs-12">Đại Học Ngoại Ngữ Đà Nẵng </a>
                    <a class="list-group-item col-md-12 col-xs-12">Đại Học Kỹ Thuật Y Dược Đà Nẵng </a>

                    <a class="list-group-item col-md-12 col-xs-12">Đại Học Cao Đẳng Khác </a>
                </div>
            </div>
        </div>

        <!--<div class="col-md-6 col-xs-12 col-sm-12 animate-repeat" style="margin-top: 5%" ng-repeat="item in pagedItems[currentPage] | orderBy:sortingOrder:reverse">

            <div class="col-md-12 col-sm-12 col-xs-12" style="border: black solid 1px; background-color: #C1C1C1; padding: 0px 0px">

                <a href="#/ChiTiet/{{ item._MaVP }}" title="{{ item._TenVp }}" style="color: black">
                    <h3 style="margin-left: 10px; margin-bottom: 20px; height: 15%; white-space: nowrap; max-width: 450px; overflow: hidden; text-overflow: ellipsis;" class="hidden-sm hidden-xs">{{ item._TenVp }}</h3>
                </a>
                <h4 style="margin-left: 10px;height: 15%;white-space: pre-wrap;" class="hidden-md hidden-lg col-xs-12">{{ item._TenVp }}</h4>
                <div class="col-md-6 col-sm-6 col-xs-12" style="height: 70%">
                    <img src="{{ app }}/{{ item._Anh }}" style="width: 100%; height: 100%">
                </div>
                <div class="col-md-6 col-sm-6 col-xs-12" style="height: 70%">
                    <label style="border-bottom: 1px solid #dedede; background-color: red; float: none; padding: 9px 10px; height: 40%; color: white; width: 100%; text-align: center; white-space: nowrap">{{ change_money(item._Gia | currency:'':0) }} vnđ/tháng</label>
                    <p style="height: 50%; max-height: 200px; overflow: hidden; text-overflow: ellipsis;" class=""> {{ item._Mota }}</p>
                    <a href="#/ChiTiet/{{ item._MaVP }}" style="float: right" ng-click="scrolltotop()">Tìm Hiểu Thêm</a>
                </div>
                <div style="background-color: #444444; color: white; width: 100%; height: 15%; text-align: center; padding: 10px auto; float: right;">
                    <label style="margin-top: 5px">Diện Tích : {{ item._Dientich }} m<span style="font-size: 8pt; position: absolute;">2</span></label>
                </div>
            </div>
            <div class="col-md-1 col-sm-1 hidden-xs">
            </div>
        </div>-->




    </div>

    <div style="text-align: center;bottom: -35px;right: 38%;">
        <ul class="pagination">
            <li ng-class="{disabled: currentPage == 0}" ng-hide="currentPage == 0">
                <a href ng-click="prevPage()">« Prev</a>
            </li>
            <li ng-repeat="n in range(currentPage-2,currentPage+3) "
                ng-class="{active: n == currentPage}"
                ng-click="setPage()">
                <a href ng-bind="n+1">1</a>
            </li>
            <li ng-class="{disabled: currentPage == pagedItems.length - 1}" ng-hide="currentPage == pagedItems.length - 1">
                <a href ng-click="nextPage()">Next »</a>
            </li>
        </ul>
    </div>





</div>

